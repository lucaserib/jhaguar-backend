# ===========================================
# CONFIGURAÇÃO DE AMBIENTE - JHAGUAR BACKEND
# ===========================================

# IMPORTANTE: Este é um arquivo de EXEMPLO
# Copie para .env e preencha com valores reais
# NUNCA commite o arquivo .env com valores reais!

# -------------------------------------------
# BANCO DE DADOS
# -------------------------------------------
# Local: postgresql://postgres:postgres@localhost:5432/rideshare?schema=public
# Railway: Fornecido automaticamente via ${{Postgres.DATABASE_URL}}
DATABASE_URL="postgresql://user:password@host:5432/database?schema=public"

# -------------------------------------------
# CACHE E TEMPO REAL (Redis)
# -------------------------------------------
# Local: redis://localhost:6379
# Railway: Fornecido automaticamente via ${{Redis.REDIS_URL}}
REDIS_URL="redis://default:password@host:6379"

# -------------------------------------------
# AUTENTICAÇÃO (JWT)
# -------------------------------------------
# ⚠️  CRÍTICO: JWT_SECRET é OBRIGATÓRIO em produção!
# A aplicação não iniciará sem esta variável em NODE_ENV=production
#
# GERE UM NOVO PARA PRODUÇÃO COM 32 BYTES (64 caracteres hex):
# node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#
# NUNCA use a mesma chave em desenvolvimento e produção!
JWT_SECRET="sua-chave-secreta-super-segura-aqui-64-caracteres-hex"

# -------------------------------------------
# AMBIENTE
# -------------------------------------------
NODE_ENV="development"  # Em produção: "production"
PORT=3000

# -------------------------------------------
# GOOGLE MAPS API
# -------------------------------------------
# IMPORTANTE: Revogar chave antiga e criar nova com restrições!
# https://console.cloud.google.com/google/maps-apis
GOOGLE_API_KEY="AIzaSy..."

# -------------------------------------------
# STRIPE (PAGAMENTOS)
# -------------------------------------------
# MODO TEST (desenvolvimento/testes):
STRIPE_SECRET_KEY="sk_test_..."
STRIPE_PUBLISHABLE_KEY="pk_test_..."
STRIPE_WEBHOOK_SECRET="whsec_..."

# MODO LIVE (produção - quando lançar):
# STRIPE_SECRET_KEY="sk_live_..."
# STRIPE_PUBLISHABLE_KEY="pk_live_..."
# STRIPE_WEBHOOK_SECRET="whsec_..." (novo webhook)

# -------------------------------------------
# CORS E SEGURANÇA
# -------------------------------------------
# URLs permitidas para requisições HTTP e WebSocket
# IMPORTANTE: Apps mobile nativos (React Native/Expo) não precisam
# de CORS pois não são browsers. CORS só afeta requisições de browsers.
#
# Para produção, configure estas variáveis:
FRONTEND_URL="https://jhaguar.com"         # Site institucional
MOBILE_APP_URL=""                          # Deixe vazio para apps nativos

# -------------------------------------------
# APP MÓVEL (React Native/Expo)
# -------------------------------------------
# ⚠️  IMPORTANTE: Estas variáveis são usadas pelo FRONTEND, não pelo backend
# Configure-as no .env do app React Native/Expo
#
# EXPO_PUBLIC_GOOGLE_API_KEY: Chave do Google Maps com restrições por bundle ID
# EXPO_PUBLIC_SERVER_URL: URL da API (HTTPS, sem porta, sem trailing slash)
#
# Exemplo de configuração correta:
# EXPO_PUBLIC_GOOGLE_API_KEY="AIzaSy..." (chave RESTRITA!)
# EXPO_PUBLIC_SERVER_URL="https://api.jhaguar.com"
